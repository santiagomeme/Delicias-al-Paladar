document.addEventListener("DOMContentLoaded",(function(){var e=[{id:1,nombre:"Pollo",precio:12e4,detalle:"Hawallano, Verduras, Agridulce"},{id:2,nombre:"carne",precio:6e3},{id:3,nombre:"Pezcado",precio:6e3},{id:4,nombre:"postre",precio:6e3},{id:5,nombre:"vaso",precio:6e3},{id:6,nombre:"lapiz",precio:6e3},{id:7,nombre:"BMW",precio:6e3},{id:8,nombre:"avion",precio:6e3},{id:9,nombre:"omni",precio:6e3},{id:10,nombre:"naturaleza",precio:6e3},{id:11,nombre:"playa",precio:6e3},{id:12,nombre:"oceano",precio:6e3},{id:13,nombre:"celular ",precio:6e3},{id:14,nombre:"mansion",precio:6e3},{id:15,nombre:"juego",precio:6e3}],n=0,t=[],o=function(e){return'\n      <div class="col">\n        <div class="card">\n          <img\n            src="https://loremflickr.com/100/100/'.concat(e.nombre,'"\n            class="card-img-top"\n          />\n          <div class="card-body">\n            <h5 class="card-title">').concat(e.nombre,'</h5>\n            <p class="card-text">Precio: ').concat(e.precio,'</p>\n            <div id="detalle-').concat(e.id,'" class="detalle" style="display: none;">\n            <p>Detalle: ').concat(e.detalle,'</p></div>            \n            <button id="btn-catalogo-').concat(e.id,'" class="btn btn-success">Agregar</button>\n            <button id="btn-detalle-').concat(e.id,'" class="btn btn-info">Detalles</button>\n\n          </div>\n        </div>\n      </div>')},i=function(e){return'\n      <div class="col">\n        <div class="card">\n          <img\n            src="https://loremflickr.com/100/100/'.concat(e.nombre,'"\n            class="card-img-top"\n          />\n          <div class="card-body">\n            <h5 class="card-title">').concat(e.nombre,'</h5>\n            <div id="detalle-').concat(e.id,'" style="display: none;">\n            <p>Detalle:').concat(e.detalle,'</p></div>               \n            <button id="btn-carrito-').concat(e.idCompra,'" class="btn btn-danger">Quitar</button>\n          </div>\n        </div>\n      </div>')},c=function(){for(var e=document.getElementById("carrito"),n=document.getElementById("precioTotal"),o="",c=0,a=0,d=t;a<d.length;a++){var l=d[a];o+=i(l),c+=l.precio}n.innerHTML=c,e.innerHTML=o,r()},a=function(){for(var o=function(){var e=a[i],o="btn-catalogo-".concat(e.id);document.getElementById(o).addEventListener("click",(function(){var o={nombre:e.nombre,idCompra:n,precio:e.precio};n+=1,t.push(o),c()}))},i=0,a=e;i<a.length;i++)o()},r=function(){for(var e=function(){var e=o[n],i="btn-carrito-".concat(e.idCompra);document.getElementById(i).addEventListener("click",(function(){var n=t.findIndex((function(n){return n.idCompra==e.idCompra}));t.splice(n,1),c()}))},n=0,o=t;n<o.length;n++)e()};!function(){for(var n=document.getElementById("catalogo"),t="",i=0,c=e;i<c.length;i++){var r=c[i];t+=o(r)}n.innerHTML=t,a()}(),console.log(o(e[0]));var d=document.getElementById("mostrarRegistro"),l=document.getElementById("registroBox"),s=document.getElementById("mostrarRegistroButton");d&&d.addEventListener("click",(function(){var e=window.getComputedStyle(l);"none"===e.display||"block"===e.display?l.style.display="flex":l.style.display="none"})),s&&l&&s.addEventListener("click",(function(e){e.stopPropagation();var n=window.getComputedStyle(l);"none"===n.display||"block"===n.display?l.style.display="flex":l.style.display="none"})),document.addEventListener("click",(function(e){l.contains(e.target)||e.target===s||(l.style.display="none")}));var u=function(e){var n,t="detalle-".concat(e);document.getElementById(t).classList.toggle("mostrar"),(n=document.getElementById("detalleProductoPanel")).classList.remove("oculto"),n.classList.add("mostrar")},m=function(){for(var n=function(){var e=o[t],n="btn-detalle-".concat(e.id);document.getElementById(n).addEventListener("click",(function(){u(e.id)}))},t=0,o=e;t<o.length;t++)n()};m(),document.getElementById("loginButton").addEventListener("click",(function(){loginWithFacebook()})),document.getElementById("logoutButton").addEventListener("click",(function(){logoutIfConnected()})),document.getElementById("googleSignInButton").addEventListener("click",(function(){var e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(e).then((function(e){var n=e.user;console.log("Usuario autenticado: ",n)})).catch((function(e){console.error("Error de autenticación: ",e)}))}));var p=document.getElementById("panelBusqueda"),g=document.getElementById("inputBusqueda"),v=document.getElementById("resultadoBusqueda");function b(){totalCarrito=t.reduce((function(e,n){return e+n.precio}),0);var e="nequi://pay?phone=3177505231&amount="+totalCarrito+"&reference=REFERENCIA";window.location.href=e}g.addEventListener("input",(function(){var n,t=g.value.toLowerCase();!function(e){v.innerHTML="",e.length>0?p.style.display="block":p.style.display="none"}((n=t,e.filter((function(e){return e.nombre.toLowerCase().includes(n)}))))})),document.addEventListener("click",(function(){p.style.display="none"})),document.getElementById("btnNequi").addEventListener("click",b),document.getElementById("btnNequi").addEventListener("click",(function(){!function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var e="nequi://",n=document.createElement("iframe");return n.style.display="none",n.src=e,document.body.appendChild(n),setTimeout((function(){document.body.removeChild(n)}),2e3),!0}return!1}()?redirigirADescargaNequi():b()})),m(),console.log("La ventana cambió de tamaño")}));